<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Optymalizator Zasobów i Produkcji</title>

    <!-- Biblioteki zewnętrzne -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <script src="solver.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Własne style -->
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>Optymalizator Zasobów i Produkcji</h1>
            <nav>
                <ul>
                    <li><button id="nav-ahp" onclick="App.switchToTool('ahp')">Kalkulator AHP</button></li>
                    <li><button id="nav-cutting-stock" onclick="App.switchToTool('cutting-stock')">Problem Rozkroju</button></li>
                    <li><button id="nav-production-opt" onclick="App.switchToTool('production-opt')">Optymalizacja Produkcji</button></li>
                </ul>
            </nav>
        </header>

        <div class="content-wrapper">
            <!-- AHP Calculator -->
            <div id="tool-ahp" class="tool-content">
                <h2>Kalkulator AHP</h2>
                <div class="input-group">
                    <label>Liczba kryteriów (3-6):</label>
                    <input type="number" id="ahpNumCriteria" min="3" max="6" value="3">
                </div>
                <div id="ahpCriteriaNames"></div>
                <div id="ahpCriteriaComparisonMatrix"></div>
                <div id="ahpOptionNames"></div>
                <div id="ahpOptionsComparisonSection"></div>
                <div id="ahpResults" class="results"></div>
                <div id="ahpVisualization" class="visualization-container"></div>
            </div>

            <!-- Cutting Stock Problem -->
            <div id="tool-cutting-stock" class="tool-content">
                <h2>Problem Rozkroju</h2>
                <div class="input-group">
                    <div class="input-row">
                        <label>Długość kłody (m):</label>
                        <input type="number" id="logLength" value="2.0" step="0.1">
                    </div>
                    <div class="input-row">
                        <label>Dokładna liczba sztuk:</label>
                        <input type="checkbox" id="exactCuts">
                    </div>
                    <div id="ordersList"></div>
                    <button onclick="CuttingStock.addOrderRow()">Dodaj zamówienie</button>
                </div>
                <button onclick="CuttingStock.calculate()">Oblicz optymalny podział</button>
                <div id="cuttingStockResults" class="tool-content"></div>
                <div id="cuttingStockVisualization" class="tool-content"></div>
                <div id="cuttingStockLoadingIndicator" class="loading-indicator" style="display: none;">
                    <div class="spinner"></div>
                    <p>Trwa obliczanie optymalnego rozwiązania...</p>
                </div>
            </div>

            <!-- Production Optimization -->
            <div id="tool-production-opt" class="tool-content">
                <h2>Optymalizacja Produkcji</h2>
                <div class="production-container">
                    <div class="production-sidebar">
                        <div class="input-group">
                            <h3>Ustawienia</h3>
                            <div class="input-row">
                                <label for="numVars">Liczba produktów/zmiennych:</label>
                                <input type="number" id="numVars" min="1" max="10" value="2">
                                <button onclick="ProductionOpt.updateObjectiveFunction()" class="small-button">Zastosuj</button>
                            </div>
                            <div class="input-row">
                                <label for="optimizationType">Typ optymalizacji:</label>
                                <select id="optimizationType">
                                    <option value="max">Maksymalizacja (zysk)</option>
                                    <option value="min">Minimalizacja (koszty)</option>
                                </select>
                            </div>
                            <div class="input-row">
                                <label for="productNames">Nazwy produktów (oddzielone przecinkami):</label>
                                <input type="text" id="productNames" placeholder="Produkt A, Produkt B, ...">
                                <button onclick="ProductionOpt.applyProductNames()" class="small-button">Zastosuj</button>
                            </div>
                        </div>

                        <div class="input-group">
                            <h3>Funkcja celu (zyski/koszty jednostkowe)</h3>
                            <div id="objectiveFunction"></div>
                        </div>
                        
                        <div class="input-group">
                            <h3>Ograniczenia</h3>
                            <div class="constraints-description">
                                <p>Przykłady ograniczeń:</p>
                                <ul>
                                    <li>Maksymalna dostępność surowców</li>
                                    <li>Ograniczenia czasowe maszyn</li>
                                    <li>Minimalne/maksymalne ilości produktów</li>
                                    <li>Ograniczenia budżetowe</li>
                                </ul>
                            </div>
                            <div id="constraints"></div>
                            <button onclick="ProductionOpt.addConstraint()" class="add-constraint-button">
                                <span>+</span> Dodaj ograniczenie
                            </button>
                        </div>

                        <button onclick="ProductionOpt.calculate()" class="calculate-button">Oblicz optimum</button>
                    </div>

                    <div class="production-results">
                        <div class="results-header">
                            <h3>Wyniki Optymalizacji</h3>
                        </div>

                        <div id="productionOptSummary" style="display: none;" class="results-summary">
                            <h4>Podsumowanie</h4>
                            <div id="productionOptSummaryContent"></div>
                        </div>

                        <div id="productionOptResults" class="results-detail"></div>
                        <div id="productionOptVisualization" class="visualization-container"></div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Michał Kopeć 2025</p>
        </footer>
    </div>

    <!-- Własne skrypty -->
    <script src="script.js"></script>
    <script src="ahp.js"></script>
    <script src="cuttingStock.js"></script>
    <script src="productionOpt.js"></script>
</body>
</html> 